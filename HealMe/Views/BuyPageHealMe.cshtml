
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Catalyst - Bộ Bài Động Lực Hàng Ngày</title>
    <link rel="stylesheet" href="~/css/HealMeVer2 - Buy.css" />
</head>
<body>
    <header>
        <nav class="container">
            <div>

                <a style="text-decoration:none; color:none" href="/Home">
                    <div class="logo">
                        Daily Catalyst

                    </div>
                </a>

            </div>

            <ul class="nav-links">
                <li><a href="/Task">Nhiệm vụ của bạn</a></li>
                <li><a href="/Home/BuyNow">Mua ngay</a></li>
                <li><a href="/Home/Feedback">Cảm nhận của mọi người</a></li>
                @{
                    var userId = Context.Session.GetString("UserId");
                    if (!string.IsNullOrEmpty(userId))
                    {
                        <li><a href="/Authentication/Logout">Đăng xuất</a></li>
                    }
                    else
                    {
                        <li><a href="/Authentication/Login">Đăng nhập</a></li>
                    }
                }
            </ul>
        </nav>
    </header>
    <div class="container">
        

        <div class="product-section">
            <div class="product-grid">
                <div class="product-image">
                    <div class="card-stack" style="display: none;">
                        <div class="card">
                            <div>
                                <div>ĐỘNG LỰC</div>
                                <div style="font-size: 0.9rem; margin-top: 10px;">Hôm nay</div>
                            </div>
                        </div>
                        <div class="card">
                            <div>
                                <div>THÀNH CÔNG</div>
                                <div style="font-size: 0.9rem; margin-top: 10px;">Bắt đầu từ hôm nay</div>
                            </div>
                        </div>
                        <div class="card">
                            <div>
                                <div>CẢM HỨNG</div>
                                <div style="font-size: 0.9rem; margin-top: 10px;">Mỗi ngày</div>
                            </div>
                        </div>
                    </div>
                    <img src="~/images/logo.png" alt="Daily Catalyst" style="width: 100%; height: 100%; object-fit: cover; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                </div>

                <div class="product-info">
                    <h1 class="product-title">Daily Catalyst</h1>
                    <p class="product-subtitle">Bộ bài động lực 30 lá - Khơi nguồn cảm hứng hàng ngày</p>
                    
                    <div class="price">₫149,000</div>
                    
                    <ul class="features">
                        <li>30 lá bài động lực độc đáo</li>
                        <li>Thiết kế hình chữ nhật dài tinh tế</li>
                        <li>Chất liệu cao cấp, bền đẹp</li>
                        <li>Thông điệp cảm hứng mỗi ngày</li>
                        <li>Kích thước hoàn hảo để mang theo</li>
                        <li>Hộp đựng dễ thương</li>
                    </ul>

                    <!-- <div class="quantity-selector">
                        <label>Số lượng:</label>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="decreaseQuantity()">-</button>
                            <input type="number" id="quantity" class="quantity-input" value="1" min="1" max="10">
                            <button class="quantity-btn" onclick="increaseQuantity()">+</button>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button class="buy-button" onclick="buyNow()">Mua Ngay</button>
                        <button class="add-to-cart" onclick="addToCart()">Thêm Vào Giỏ</button>
                    </div> -->
                </div>
            </div>
        </div>

        <div class="description-section">
            <h2 class="description-title">Về Daily Catalyst</h2>
            <p class="description-text">
                Daily Catalyst là bộ bài động lực độc đáo được thiết kế để mang lại cảm hứng và năng lượng tích cực cho cuộc sống hàng ngày của bạn. 
                Với 30 lá bài được thiết kế tinh tế ở dạng hình chữ nhật dài, mỗi lá bài chứa đựng một thông điệp động lực, 
                câu trích dẫn hay bài tập thực hành giúp bạn duy trì tinh thần tích cực và đạt được mục tiêu của mình.
            </p>
            
            <!-- <div class="testimonials">
                <div class="testimonial">
                    <p class="testimonial-text">"Daily Catalyst đã thay đổi cách tôi bắt đầu mỗi ngày. Những thông điệp động lực thực sự có tác dụng!"</p>
                    <p class="testimonial-author">- Minh Anh</p>
                </div>
                <div class="testimonial">
                    <p class="testimonial-text">"Thiết kế đẹp, chất lượng tốt. Tôi luôn mang theo bên mình để có động lực khi cần."</p>
                    <p class="testimonial-author">- Hoàng Nam</p>
                </div>
                <div class="testimonial">
                    <p class="testimonial-text">"Món quà hoàn hảo cho bản thân và người thân. Rất đáng để đầu tư!"</p>
                    <p class="testimonial-author">- Thu Hà</p>
                </div>
            </div> -->
        </div>

        <div class="contact-section">
            <h2 class="contact-title">Liên Hệ Với Chúng Tôi</h2>
            
            <div class="contact-info">
                <div class="contact-item">
                    <div class="contact-icon">📧</div>
                    <div class="contact-label">Email</div>
                    <div class="contact-value">
                        <a href="mailto:info@dailycatalyst.vn">info@dailycatalyst.vn</a>
                    </div>
                </div>
                
                <div class="contact-item">
                    <div class="contact-icon">📱</div>
                    <div class="contact-label">Số điện thoại</div>
                    <div class="contact-value">
                        <a href="tel:+84901234567">0901 234 567</a>
                    </div>
                </div>
                
                <div class="contact-item">
                    <div class="contact-icon">📘</div>
                    <div class="contact-label">Facebook</div>
                    <div class="contact-value">
                        <a href="https://www.facebook.com/profile.php?id=61576810963347" target="_blank">Daily Catalyst Vietnam</a>
                    </div>
                </div>
            </div>

            <div class="order-form">
                <h3 class="form-title">Đặt Hàng Ngay</h3>
                <form id="orderForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fullName">Họ và tên *</label>
                            <input type="text" id="fullName" name="fullName" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Số điện thoại *</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email">Email</label>
                        <input required type="email" id="email" name="email">
                    </div>

                    <div class="form-group">
                        <label for="address">Địa chỉ giao hàng *</label>
                        <textarea id="address" name="address" placeholder="Vui lòng nhập địa chỉ chi tiết..." required></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="orderQuantity">Số lượng</label>
                            <select id="orderQuantity" name="quantity">
                                <option value="1">1 bộ - ₫149,000</option>
                                <option value="2">2 bộ - ₫298,000</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="paymentMethod">Phương thức thanh toán</label>
                            <select id="paymentMethod" name="paymentMethod">
                                <option value="cod">Thu hộ (COD)</option>
                                <option value="transfer">Chuyển khoản</option>
                                <option value="momo">Ví MoMo</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="Qr">QrCode</label>
                        <img id="Qr"src="~/images/Qr.png"/>
                    </div>
                    <div class="form-group">
                        <label for="note">Ghi chú</label>
                        <textarea id="note" name="note" placeholder="Ghi chú thêm về đơn hàng (tùy chọn)..."></textarea>
                    </div>

                    <button type="submit" class="submit-btn" id="submitBtn">
                        Gửi Đơn Hàng
                    </button>

                    <div class="success-message" id="successMessage">
                        ✅ Cảm ơn bạn! Đơn hàng đã được gửi thành công. Chúng tôi sẽ liên hệ với bạn trong vòng 24h.
                    </div>

                    <div class="error-message" id="errorMessage">
                        ❌ Có lỗi xảy ra khi gửi đơn hàng. Vui lòng thử lại hoặc liên hệ trực tiếp với chúng tôi.
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        function increaseQuantity() {
            const quantityInput = document.getElementById('quantity');
            let currentValue = parseInt(quantityInput.value);
            if (currentValue < 10) {
                quantityInput.value = currentValue + 1;
            }
        }

        function decreaseQuantity() {
            const quantityInput = document.getElementById('quantity');
            let currentValue = parseInt(quantityInput.value);
            if (currentValue > 1) {
                quantityInput.value = currentValue - 1;
            }
        }

        function buyNow() {
            const quantity = document.getElementById('quantity').value;
            alert(`Cảm ơn bạn! Bạn đã chọn mua ${quantity} bộ Daily Catalyst. Chúng tôi sẽ liên hệ với bạn sớm nhất để xác nhận đơn hàng.`);
        }

        function addToCart() {
            const quantity = document.getElementById('quantity').value;
            alert(`Đã thêm ${quantity} bộ Daily Catalyst vào giỏ hàng thành công!`);
        }

        // Hiệu ứng hover cho các lá bài
        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'rotate(0deg) translateY(-10px) scale(1.05)';
                this.style.zIndex = '10';
            });

        // Xử lý form đặt hàng và gửi vào Google Sheets
        document.getElementById('orderForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            
            // Ẩn thông báo cũ
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';
            
            // Disable nút submit
            submitBtn.disabled = true;
            submitBtn.textContent = 'Đang gửi...';
            
            // Lấy dữ liệu form
            const formData = new FormData(e.target);
            const orderData = {
                timestamp: new Date().toLocaleString('vi-VN'),
                fullName: formData.get('fullName'),
                phone: formData.get('phone'),
                email: formData.get('email') || '',
                address: formData.get('address'),
                quantity: formData.get('quantity'),
                paymentMethod: formData.get('paymentMethod'),
                note: formData.get('note') || '',
                totalAmount: calculateTotal(formData.get('quantity'))
            };
            
            try {
                // URL của Google Apps Script Web App
                // Bạn cần thay thế URL này bằng URL thực tế của Google Apps Script
                    const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzrIm5bpF-2uDRMsURZ3vzy12bo_XuJCSinnZvxJZxdcKz9SKrZ7-BwNkFUDFRzO0vR/exec';
                
                const response = await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(orderData)
                });
                
                // Hiển thị thông báo thành công
                successMessage.style.display = 'block';
                e.target.reset(); // Reset form
                
                // Scroll đến thông báo
                successMessage.scrollIntoView({ behavior: 'smooth' });
                
            } catch (error) {
                console.error('Error:', error);
                errorMessage.style.display = 'block';
                errorMessage.scrollIntoView({ behavior: 'smooth' });
            } finally {
                // Enable lại nút submit
                submitBtn.disabled = false;
                submitBtn.textContent = 'Gửi Đơn Hàng';
            }
        });

        function calculateTotal(quantity) {
            const prices = {
                '1': 299000,
                '2': 580000,
                '3': 850000,
                '5': 1400000
            };
            return prices[quantity] || 299000;
        }

        // Cập nhật số lượng trong form khi thay đổi ở phần sản phẩm
        function updateFormQuantity() {
            const productQuantity = document.getElementById('quantity').value;
            const orderQuantity = document.getElementById('orderQuantity');
            orderQuantity.value = productQuantity <= 5 ? productQuantity : '1';
        }

        // Liên kết hai phần số lượng
        document.getElementById('quantity').addEventListener('change', updateFormQuantity);
            
            card.addEventListener('mouseleave', function() {
                // Reset về vị trí ban đầu
                if (this === document.querySelector('.card:nth-child(1)')) {
                    this.style.transform = 'rotate(-5deg) translateX(-10px)';
                    this.style.zIndex = '3';
                } else if (this === document.querySelector('.card:nth-child(2)')) {
                    this.style.transform = 'rotate(2deg) translateX(5px)';
                    this.style.zIndex = '2';
                } else {
                    this.style.transform = 'rotate(-2deg) translateX(10px)';
                    this.style.zIndex = '1';
                }
            });
        });
    </script>
</body>
</html>